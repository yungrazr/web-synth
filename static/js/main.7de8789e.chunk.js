(this["webpackJsonpweb-synth"]=this["webpackJsonpweb-synth"]||[]).push([[0],{12:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),o=n(13),s=n.n(o),i=(n(21),n(4)),r=(n(22),n(16)),l=function e(){Object(r.a)(this,e)};l.context=new(window.AudioContext||window.webkitAudioContext),l.masterGainNode=l.context.createGain();var u=l,d=n(5),j=n(15),b=(n(12),n(3)),h=n(0),O=function(e){var t=e.oscNum,n=e.play,a=Object(c.useState)([]),o=Object(i.a)(a,2),s=o[0],r=o[1];Object(c.useEffect)((function(){var e=[],t=function(){var t=u.context.createGain();t.gain.setValueAtTime(.3,u.context.currentTime),t.connect(u.masterGainNode);var n=u.context.createOscillator();n.frequency.setValueAtTime(262,u.context.currentTime),n.detune.setValueAtTime(0,u.context.currentTime),n.start();var c={note:null,playing:!1,oscillatorNode:n,oscillatorGainNode:t,frequency:n.frequency.value,detune:n.detune.value,type:n.type,gain:30};e.push(c)};t(),t(),t(),t(),t(),t(),r(e)}),[]),Object(c.useEffect)((function(){if(void 0===s||0===s.length);else if(n){if(null!=n.playNote&&null==n.stopNote)return void function(e,t){var n=Object(j.a)(s);for(var c in n){var a=Object(d.a)({},n[c]);if(null==a.note){a.playing=!0,a.note=t,a.frequency=e,a.oscillatorNode.frequency.setValueAtTime(e,u.context.currentTime);try{a.oscillatorNode.connect(a.oscillatorGainNode),n[c]=a}catch(o){console.log("Playing Osc"+o)}break}}r(Object(j.a)(n))}(n.frequency,n.playNote);if(null!=n.stopNote&&null==n.playNote)return void function(e){for(var t in s){var n=s;if(n[t].note===e){n[t].note=null,n[t].playing=!1;try{s[t].oscillatorNode.disconnect(s[t].oscillatorGainNode),r(n)}catch(c){console.log("Stopped osc"+c)}break}}}(n.stopNote)}}),[n]);return void 0===s||0===s.length?null:Object(h.jsxs)("div",{className:"oscillator-container",children:[Object(h.jsxs)("h1",{className:"oscillator-title",children:["OSC ",t]}),Object(h.jsxs)("div",{className:"oscillator-tune-container",children:[Object(h.jsx)("h3",{children:"TUNE"}),Object(h.jsx)(b.Knob,{onChange:function(e){var t=[];for(var n in s){var c=s[n];c.oscillatorNode.detune.setValueAtTime(e,u.context.currentTime),c.detune=e,t.push(c)}r(t)},unlockDistance:10,min:-500,max:500,preciseMode:!0,rotateDegrees:180,value:s[0].detune}),Object(h.jsxs)("p",{children:[Math.round(s[0].detune)," cent"]})]}),Object(h.jsxs)("div",{className:"oscillator-type-container",children:[Object(h.jsx)("h3",{children:"TYPE"}),Object(h.jsx)(b.Knob,{onChange:function(e){var t=Math.round(e),n=[];for(var c in s){var a=s[c];switch(t){case 1:a.oscillatorNode.type="sine",a.type="sine";break;case 2:a.oscillatorNode.type="sawtooth",a.type="sawtooth";break;case 3:a.oscillatorNode.type="square",a.type="square";break;case 4:a.oscillatorNode.type="triangle",a.type="triangle";break;default:a.oscillatorNode.type="sine",a.type="sine"}n.push(a)}r(n)},unlockDistance:10,preciseMode:!0,min:1,max:5,rotateDegrees:180,value:function(){switch(s[0].type){case"sine":return 1;case"sawtooth":return 2;case"square":return 3;case"triangle":return 4;default:return 1}}()}),Object(h.jsx)("p",{children:s[0].type})]}),Object(h.jsxs)("div",{className:"oscillator-vol-container",children:[Object(h.jsx)("h3",{children:"MIX"}),Object(h.jsx)(b.Knob,{onChange:function(e){var t=[];for(var n in s){var c=s[n];c.oscillatorGainNode.gain.setValueAtTime(Math.round(e)/100,u.context.currentTime),c.gain=Math.round(e),t.push(c)}r(t)},unlockDistance:10,min:0,max:100,preciseMode:!0,rotateDegrees:225,value:s[0].gain}),Object(h.jsx)("p",{children:Math.round(s[0].gain)})]})]})},x=function(){var e=Object(c.useState)(),t=Object(i.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(),s=Object(i.a)(o,2),r=s[0],l=s[1],j=Object(c.useState)(),O=Object(i.a)(j,2),x=O[0],p=O[1],f=Object(c.useState)(!1),m=Object(i.a)(f,2),v=m[0],y=m[1];Object(c.useEffect)((function(){!function(){var e=u.context.createDelay();e.delayTime.setValueAtTime(.15,u.context.currentTime);var t=u.context.createGain();t.gain.setValueAtTime(.6,u.context.currentTime);var n=u.context.createBiquadFilter();n.frequency.setValueAtTime(1e3,u.context.currentTime),e.connect(t),t.connect(n),n.connect(e),u.masterGainNode.connect(e);var c={frequency:1e3,filterNode:n},o={gain:.6,feedbackNode:t};a({delayTime:.15,delayNode:e}),l(o),p(c)}()}),[]);return n&&x&&r?Object(h.jsxs)("div",{className:"oscillator-container",children:[Object(h.jsx)("h1",{className:"oscillator-title",children:"DELAY"}),Object(h.jsxs)("div",{className:"oscillator-tune-container",children:[Object(h.jsx)("h3",{children:"TIME"}),Object(h.jsx)(b.Knob,{onChange:function(e){var t=Object(d.a)({},n);t.delayNode.delayTime.setValueAtTime(e,u.context.currentTime),t.delayTime=e,a(t)},unlockDistance:10,min:0,max:1,preciseMode:!0,rotateDegrees:180,value:n.delayTime}),Object(h.jsxs)("p",{children:[n.delayTime.toFixed(2),"sec"]})]}),Object(h.jsxs)("div",{className:"oscillator-tune-container",children:[Object(h.jsx)("h3",{children:"FEEDBACK"}),Object(h.jsx)(b.Knob,{onChange:function(e){var t=Object(d.a)({},r);t.gain=e,t.feedbackNode.gain.setValueAtTime(e,u.context.currentTime),l(t)},unlockDistance:10,min:0,max:.95,preciseMode:!0,rotateDegrees:180,value:r.gain}),Object(h.jsx)("p",{children:r.gain.toFixed(2)})]}),Object(h.jsxs)("div",{className:"oscillator-vol-container",children:[Object(h.jsx)("h3",{children:"CUTOFF"}),Object(h.jsx)(b.Knob,{onChange:function(e){var t=Object(d.a)({},x);t.frequency=e,t.filterNode.frequency.setValueAtTime(e,u.context.currentTime),p(t)},unlockDistance:10,preciseMode:!0,min:0,max:4e3,rotateDegrees:180,value:x.frequency}),Object(h.jsxs)("p",{children:[Math.round(x.frequency),"hz"]})]}),Object(h.jsx)("h3",{onClick:function(){v?(y(!1),n.delayNode.disconnect(u.context.destination)):(y(!0),n.delayNode.connect(u.context.destination))},children:v?"Turn Off":"Turn On"})]}):null},p=function(){var e=Object(c.useState)(),t=Object(i.a)(e,2),n=t[0],a=t[1];Object(c.useEffect)((function(){!function(){var e=u.context.createBiquadFilter();e.frequency.value=1e3,e.type="lowpass",e.Q.value=1,u.masterGainNode.connect(e),e.connect(u.context.destination);var t={frequency:e.frequency.value,type:e.type,Q:e.Q.value,filterNode:e};a(t)}()}),[]);return void 0===n?null:Object(h.jsxs)("div",{className:"oscillator-container",children:[Object(h.jsx)("h1",{className:"oscillator-title",children:"FILTER"}),Object(h.jsxs)("div",{className:"oscillator-tune-container",children:[Object(h.jsx)("h3",{children:"CUTOFF"}),Object(h.jsx)(b.Knob,{onChange:function(e){var t=Object(d.a)({},n);t.filterNode.frequency.value=e,t.frequency=e,a(t)},unlockDistance:10,min:0,max:4e3,preciseMode:!0,rotateDegrees:180,value:n.frequency}),Object(h.jsxs)("p",{children:[Math.round(n.frequency),"hz"]})]}),Object(h.jsxs)("div",{className:"oscillator-tune-container",children:[Object(h.jsx)("h3",{children:"RES"}),Object(h.jsx)(b.Knob,{onChange:function(e){console.log(n);var t=Object(d.a)({},n);t.filterNode.Q.value=e,t.Q=e,a(t)},unlockDistance:10,min:.01,max:15,preciseMode:!0,rotateDegrees:180,value:n.Q}),Object(h.jsx)("p",{children:n.Q.toFixed(2)})]}),Object(h.jsxs)("div",{className:"oscillator-vol-container",children:[Object(h.jsx)("h3",{children:"TYPE"}),Object(h.jsx)(b.Knob,{onChange:function(e){var t=Math.round(e),c=Object(d.a)({},n);switch(t){case 1:c.filterNode.type="lowpass",c.type="lowpass";break;case 2:c.filterNode.type="highpass",c.type="highpass";break;case 3:c.filterNode.type="bandpass",c.type="bandpass";break;default:c.filterNode.type="lowpass",c.type="lowpass"}a(c)},unlockDistance:10,preciseMode:!0,min:1,max:4,rotateDegrees:180,value:function(){switch(n.type){case"lowpass":return 1;case"highpass":return 2;case"bandpass":return 3;default:return 1}}()}),Object(h.jsx)("p",{children:n.type})]})]})},f=n(6),m=(n(27),n(28),function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],o=f.b.fromNote("c4"),s=f.b.fromNote("c5"),r=f.a.create({firstNote:o,lastNote:s,keyboardConfig:f.a.HOME_ROW}),l=new Map([[60,262],[61,277.2],[62,293.7],[63,311.2],[64,329.7],[65,349.3],[66,370.1],[67,392.1],[68,415.4],[69,440],[70,466.1],[71,493.8],[72,523.2]]),d=Object(c.useState)(.5),j=Object(i.a)(d,2),m=j[0],v=j[1],y=Object(c.useState)({playNote:null,stopNote:null}),N=Object(i.a)(y,2),g=N[0],T=N[1];var k=function(e){v(Math.round(e)/100),u.masterGainNode.gain.setValueAtTime(Math.round(e)/100,u.context.currentTime)};return!1===n?Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)("div",{className:"splash-screen",children:[Object(h.jsx)("h1",{children:"Moms.On.My.Synth"}),Object(h.jsx)("p",{onClick:function(){return a(!0),u.masterGainNode.connect(u.context.destination),void u.masterGainNode.gain.setValueAtTime(.2,u.context.currentTime)},children:"Click here to start"})]})}):Object(h.jsxs)("div",{className:"App",children:[Object(h.jsxs)("div",{className:"top-row",children:[Object(h.jsx)(O,{oscNum:1,play:g}),Object(h.jsx)(O,{oscNum:2,play:g}),Object(h.jsx)(O,{oscNum:3,play:g}),Object(h.jsx)(p,{}),Object(h.jsx)(x,{}),Object(h.jsxs)("div",{className:"master-volume-container",children:[Object(h.jsx)("h1",{className:"oscillator-title",children:"MASTER VOL"}),Object(h.jsx)(b.Knob,{onChange:k,unlockDistance:10,preciseMode:!0,min:0,max:100,rotateDegrees:225,value:100*m}),Object(h.jsx)("p",{children:Math.round(100*m)})]})]}),Object(h.jsx)("div",{className:"bottom-row",children:Object(h.jsx)("div",{className:"piano-container",children:Object(h.jsx)(f.c,{noteRange:{first:o,last:s},playNote:function(e){!function(e){T({playNote:e,frequency:l.get(e),stopNote:null})}(e)},stopNote:function(e){T({stopNote:e,playNote:null})},keyboardShortcuts:r})})})]})}),v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,30)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),o(e),s(e)}))};s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(m,{})}),document.getElementById("root")),v()}},[[29,1,2]]]);
//# sourceMappingURL=main.7de8789e.chunk.js.map